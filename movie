#!/usr/bin/env ruby

require_relative 'lib/environment'
require_relative 'lib/parse_arguments'
require_relative 'models/movie_entry'

command = ARGV[0]
options = ParseArguments.parse
options[:title] = ARGV[1]

if command == "search"
  MovieEntry.search
else
  error_messages = ParseArguments.validate(options)
  if error_messages.empty?
    MovieEntry.add(options)
  else
    puts error_messages
  end
end